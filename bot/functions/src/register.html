<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>กรอกรายละเอียด</title>
  </head>
  <body>
    <script>
      // Query Params
      /*const queryString = decodeURIComponent(window.location.search);
      const params = new URLSearchParams(queryString);
      const decodeAsset = atob(params.get("asset"))
      document.getElementById("asset_id").append(decodeAsset);*/
    </script>
    <p id="usr"><b>ชื่อผู้ใช้:</b><input type="text" id="txtUsr" name="txtUsr"></p>
    <p id="pwd"><b>รหัสผ่าน:</b><input type="password" id="txtPwd" name="txtPwd"></p>
    <p id="cpwd"><b>ยืนยันรหัสผ่าน:</b><input type="password" id="txtCpwd" name="txtCpwd"></p>
    <p id="email"><b>อีเมล:</b><input type="text" id="txtEmail" name="txtEmail"></p>
    <button id="btnCommit" onclick="sendCommit()">ตกลง</button>
    <button id="btnCancel" onclick="sendCancel()">ยกเลิก</button>

    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
      async function sendCommit() {
        if(liff.getContext().type !== "none"){
          await liff.sendMessages([
            {
              "type" : "text",
              "text" : "ลงทะเบียน"
            }
          ]).then(function (){
            liff.closeWindow()
          })
        }
      }

      async function sendCancel() {
        liff.closeWindow()
      }
    </script>
    <script type="module" src="../liff-config.js">
    async function main() {
      await liff.init({ liffId: registerLiffID })
      if (liff.isLoggedIn()) {
        getParams()
      }else{
        liff.login({ redirectUri: registerLiffID + "/bot/functions/src/register.html" })
      }
    }
    main()
    </script>
  </body>
</html>